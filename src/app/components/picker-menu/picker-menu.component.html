<button *ngIf="label"
  mat-button 
  [matMenuTriggerFor]="menu"
  [style.backgroundColor]="color">{{label}}
</button>

<button *ngIf="icon" mat-icon-button 
  [matMenuTriggerFor]="menu"
  [style.backgroundColor]="color">
  <mat-icon>{{icon}}</mat-icon>
</button> 

<button *ngIf="iconNoBg" mat-icon-button
  color="accent"
  [matMenuTriggerFor]="menu">
  <mat-icon>{{iconNoBg}}</mat-icon>
</button> 

<mat-menu #menu="matMenu">

  <div (click)="$event.stopPropagation()" class="pad-all-sm">
      <input type="hidden"
      colorPicker="undefined"
      [cpCmykEnabled]="true"
      [cpOutputFormat]="'rgba'" 
      [cpDialogDisplay]="'inline'" 
      [cpToggle]="true"
      [cpDisableInput]="true"
      (colorPickerChange)="onColorChange($event);"/>

    <ng-content></ng-content>
  </div>

</mat-menu>
